{% extends 'base.html' %}
{% block title %}Search
{% endblock title %}
{% block body_id %}search{% endblock body_id %}

{% block controller %}ng-controller="SearchController" ng-init="init('{{csrf_token}}')"{% endblock controller %}
{% block search %}
{% endblock search %}
{% block content %}

	<div class="search_block">
		<h2> Search Jobs </h2>
		{% if location %}
			<div class="search_container">
				<div class="formrow">
					<label>Location</label>
					<input type="text" ng-style="alert_style" name="location" ng-model="search.location" id="location">
				</div>
			</div>
			<div class="btn">
				<input class="button" type="submit" name="submit" value="Search Jobs" ng-click="search('location')">
				<br>
				<p ng-show="error_flag" class="error_message">[[error_message]]</p>
			</div>
		
		{%else%}

			<div class="search_container">
				<div class="formrow">
					<label id="search_by"> Search by : <span id="search_text"> [[search.keyword]] - [[search.location]] - [[search.experience]] - [[search.function_name]] - [[search.industry]]</span></label>
					
				</div>
				<div class="formrow">
					<label>Keyword</label>
					<input type="text" ng-style="alert_style" name="keyword" ng-model="search.keyword" id="keyword">
				</div>
				<div class="formrow">
					<label>Location</label>
					<input type="text" ng-style="alert_style" name="location" ng-model="search.location" id="location">
				</div>
				<div class="formrow">
					<label>Experience</label>

				<select name="experience" ng-style="alert_style" style="width: 14%" ng-model="search.experience" id="experience">
					<option value="">Years</option>
					<option ng-repeat="expr in experiences" value="[[expr]]">[[expr]]</option>
				</select>
					
				</div>
				<div class="formrow">
					<label>Functional Area</label>
					<select name ="function" ng-style="alert_style" ng-model="search.function_name" id="function">
						<option value="">------Select-----</option>
						<option ng-repeat="function in functions" value="[[function]]">[[function]]</option>
					</select>
				</div>

				<div class="formrow">
					<label>Industry Type</label>
					<select name="industry" ng-model="search.industry"> 
						<option value="">------Select------</option>
						<option ng-repeat="industry in industries" value="[[industry]]">[[industry]]</option>
					</select>
				</div>
				<br><br><br>
				<div class="btn">
					<input class="button" type="submit" name="submit" value="Search Jobs" ng-click="search()">
					<br>
					<p ng-show="error_flag" class="error_message">[[error_message]]</p>
				</div>
				<br>
			</div>
		</div>
	{% endif %}
{% endblock content %}
