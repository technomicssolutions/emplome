{% extends 'base.html' %}
{% block title %}Post Job{% endblock title %}
{% block body_id %}jobpost{% endblock body_id %}

{% block controller %}ng-controller="JobPostingController" ng-init="init('{{csrf_token}}','{{job_id}}')"{% endblock controller %}
{% block content %}
<div class= "div3">

	<form class="" name="add_item" method="post" action="">
				{% csrf_token %}

		<div class="separation">
			<br>
			{% if job_id %}
				<h2 class="hd1">Posted Job</h2>
			{% else %}
				<h2 class="hd1">Post A Job</h2>
			{% endif %}
			
			<p class="mandatory">* Mandatory Fields</p>
			<br>
			
			<br><br>
			<div class="formrow">
				<label>Job Title<span class="red">*</span></label>
				<input type ="text" name="title" ng-model="jobpost.title" value="">
			</div>
			<div class="formrow">					
				<label>Ref Code<span class="red">*</span></label>
				<input type ="text" name="code" ng-model="jobpost.code">
			</div>	
			<div class="formrow">
				<label>Company Name<span class="red">*</span></label>
				<select style="width: 14%" name="company" ng-model="jobpost.company" ng-change="get_company_name()" ng-hide="is_new_company">

					<option value="">-Select-</option>
					<option ng-repeat="company in companies" value="[[company.name]]" ng-selected="company.name == jobpost.company">[[company.name]]</option>
					<option value="other">Other</option>
				</select>
				<input type ="text" name="title" ng-model="new_company" value="" ng-show="is_new_company">
				<!-- <input type ="text" name="title" ng-model="jobpost.title" value=""> -->
			</div>		
		</div>

		<div class="separation">
			<h3>Job Description</h3>
			<br />
			<div class="formrow">
				<label>Job Summary<span class="red">*</span></label>
				<textarea ng-model="jobpost.summary" cols="50"> </textarea>
			</div>
			<div class="formrow">
				<label>Job Details</label>
				<!-- <label>Provide job details below or Pick from the doccument</label> -->
				<input type="file" fileread="product_pdf.src"/>
			    <input type="hidden" ng-model="product_pdf.src"/>
			    <a href="/site_media/[[jobpost.details]]" ng-show="jobpost.details" target="_blank">Details</a>
			    <!-- <label class="white">.</label>
				<textarea ng-model="jobpost.details"></textarea> -->
			</div>
			<br>
		</div>
		<div class="separation">
			<br>
			<h3>Matching Criteria</h3>
			<br />
			<div class="formrow">
				<label>Keyword/Skills<span class="red">*</span></label>
				<input type ="text" name="skills" ng-model="jobpost.skills">
			</div>
			<!-- <div class="inner2"> -->
			<div class="formrow">
				<label>Experience<span class="red">*</span></label>
				<!-- <div class="inner3"> -->
				<select style="width: 14%" name="min" ng-model="jobpost.min">
					<option>-min-</option>
					<option ng-repeat="min in Min" value="[[min]]" ng-selected="min == jobpost.min">[[min]]</option>
				</select>
				<select style="width: 14%" name="max" ng-model="jobpost.max">
					<option>-max-</option>
					<option ng-repeat="max in Max" value="[[max]]" ng-selected="max == jobpost.max">[[max]]</option>
				</select>
			</div>
			
			<div class="formrow">
				<label>Job Location<span class="red">*</span></label>
				<select name="location" ng-model="jobpost.location">
					<option>-select-</option>
					<option ng-repeat="country in countries" value="[[country]]" ng-selected="country == jobpost.location">[[country]]</option>
				</select>
			</div>
			
			<div class="formrow">
				<label>Industry<span class="red">*</span></label>
				<select name="industry" ng-model="jobpost.industry">
					<option>-select-</option>
					<option ng-repeat="industry in industries" value="[[industry]]" ng-selected="industry == jobpost.industry">[[industry]]</option>
				</select>
			</div>
			<div class="formrow">
				<label>Category/Function<span class="red">*</span></label>
				<select name="function" ng-model="jobpost.function">
					<option>-select-</option>
					<option ng-repeat="function in functions" value="[[function]]" ng-selected="function == jobpost.function">[[function]]</option>
				</select>
			</div>
			<!-- <div class="formrow">
				<label>Role<span class="red">*</span></label>
				<select name="role" ng-model="jobpost.role">
						<option>-select-</option>
				</select>
			</div> -->
			<div class="formrow">
				<label>Education Requirement<span class="red">*</span></label>
				<select name="requirement" ng-model="jobpost.requirement">
					<option>-select-</option>
					<option ng-repeat="education in education_required" value="[[education]]" ng-selected="education == jobpost.requirement">[[education]]</option>
				</select>
			</div>
			<div class="formrow">
				<label>Specialization</label>
				<input type="text" name="specialization" ng-model="jobpost.specialisation">
						
			</div>
			<div class="formrow">
				<label>Nationality<span class="red">*</span></label>
				<select name="nationality" ng-model="jobpost.nationality">
					<option value="">-select-</option>
					<option ng-repeat="nationality in nationalities" value="[[nationality]]" ng-selected="nationality == jobpost.nationality">[[nationality]]</option>
				</select>
			</div>
			<div class="formrow">
				<label>Last Date to Apply</label>
				<input type="text" name="last_date" ng-model="jobpost.last_date" placeholder="DD-MM-YYY">
						
			</div>
		</div>
		<div class="separation">
			<h3>Job Owner Details</h3>
			<br />
			<div class="formrow">
				<label>Name<span class="red">*</span></label>
				<input type ="text" name="name" ng-model="jobpost.name">
			</div>
			<div class="formrow">
				<label>Phone<span class="red">*</span></label>
				<input type ="text" name="phone" ng-model="jobpost.phone">
			</div>
			<div class="formrow">
				<label>Email<span class="red">*</span></label>
				<input type ="text" name="email" ng-model="jobpost.email">
			</div>
			<div class="formrow">
				<label>Company profile<span class="red">*</span></label>
					<textarea ng-model="jobpost.profile"> </textarea>
			</div>
			<div class="formrow">
				<label>Post Date</label>
				<input type="text" name="post_date" ng-model="jobpost.post_date" placeholder="DD-MM-YYYY">
						
			</div>
		</div>
				<!-- <div class="inner"> -->
		<div class="separation">
			
			<!-- <div class="formrow" align="center">
				<input type="checkbox" name="checkbox" ng-model="checkbox">
				Reveal contact details to seekers who applied for the job
			</div> -->
			<div class="btn" align="center" id="job_submit">
				<input type="button" value="submit" ng-click="save_job()">
				
			</div>

			<div class="message">
				<p ng-show="error_flag">[[error_message]]</p>
			</div>


		</div>
	</form>
</div>
			
{% endblock content %}

